@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Colors - Light Mode */
    --color-background: 255 255 255;
    --color-surface: 248 250 252;
    --color-surface-elevated: 255 255 255;
    --color-border: 226 232 240;
    --color-border-subtle: 241 245 249;

    --color-text-primary: 15 23 42;
    --color-text-secondary: 100 116 139;
    --color-text-tertiary: 148 163 184;

    --color-primary: 59 130 246;
    --color-primary-hover: 37 99 235;
    --color-primary-subtle: 219 234 254;

    --color-success: 16 185 129;
    --color-success-subtle: 209 250 229;
    --color-warning: 245 158 11;
    --color-warning-subtle: 254 243 199;
    --color-error: 239 68 68;
    --color-error-subtle: 254 226 226;

    /* Spacing */
    --spacing-xs: 4px;
    --spacing-sm: 8px;
    --spacing-md: 16px;
    --spacing-lg: 24px;
    --spacing-xl: 32px;

    /* Border Radius */
    --radius-sm: 6px;
    --radius-md: 8px;
    --radius-lg: 12px;

    /* Typography */
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
  }

  .dark {
    --color-background: 15 23 42;
    --color-surface: 30 41 59;
    --color-surface-elevated: 51 65 85;
    --color-border: 51 65 85;
    --color-border-subtle: 30 41 59;

    --color-text-primary: 241 245 249;
    --color-text-secondary: 148 163 184;
    --color-text-tertiary: 100 116 139;
  }

  html {
    background-color: rgb(var(--color-background));
    color: rgb(var(--color-text-primary));
  }

  body {
    @apply antialiased;
  }
}

@layer components {
  .modal-container {
    @apply relative bg-white dark:bg-slate-800 rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] flex flex-col border border-slate-200 dark:border-slate-700;
  }

  .modal-container-sm {
    @apply relative bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-sm w-full p-6 border border-slate-200 dark:border-slate-700;
  }

  .card-stat {
    @apply relative bg-white/70 dark:bg-slate-800/70 backdrop-blur-md rounded-2xl border border-slate-200 dark:border-slate-700 p-4 hover:shadow-xl transition-all flex flex-col justify-between overflow-hidden min-h-[100px];
  }

  .glass-panel {
    @apply bg-white/60 dark:bg-slate-800/60 backdrop-blur-md rounded-2xl border border-white/20 dark:border-slate-700/50 p-4 shadow-sm;
  }

  .btn-group {
    @apply flex bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700;
  }

  .input-base {
    @apply w-full pl-11 pr-4 py-2 bg-slate-100/50 dark:bg-slate-900/50 border border-slate-200/50 dark:border-slate-700/50 rounded-xl outline-none focus:ring-2 focus:ring-blue-500/20 transition-all text-sm;
  }

  .card-base {
    @apply bg-white dark:bg-slate-800 p-5 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm relative overflow-hidden;
  }

  .selection-bar {
    @apply flex flex-wrap gap-1 bg-white dark:bg-slate-800 rounded-lg p-1 border border-slate-200 dark:border-slate-700 shadow-sm;
  }

  .premium-card {
    @apply relative bg-white/70 dark:bg-slate-800/70 backdrop-blur-xl rounded-3xl border border-slate-200 dark:border-slate-700/50 p-8 shadow-2xl overflow-hidden;
  }

  .btn-action {
    @apply p-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-slate-500 dark:text-slate-400 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-primary {
    @apply px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-semibold transition-all shadow-sm flex items-center justify-center gap-2 disabled:opacity-50;
  }

  .btn-outline {
    @apply w-full flex items-center justify-center gap-2 px-4 py-2 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800 text-slate-700 dark:text-slate-300 rounded-lg text-sm font-semibold transition-all shadow-sm disabled:opacity-50;
  }

  .btn-danger {
    @apply p-2 border border-red-200 dark:border-red-900/30 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors disabled:opacity-50;
  }

  .badge {
    @apply inline-flex items-center px-2.5 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest border;
  }

  .badge-success {
    @apply bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20;
  }

  .badge-danger {
    @apply inline-flex items-center px-2.5 py-1 rounded-lg bg-red-500/10 text-red-600 dark:text-red-400 text-[10px] font-black uppercase tracking-widest border border-red-500/20;
  }

  /* Table Components */
  .table-header-cell {
    @apply px-4 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider;
  }

  .table-data-cell {
    @apply px-4 py-4 whitespace-nowrap text-sm text-slate-700 dark:text-slate-300 transition-colors;
  }

  /* Dropdown Components */
  .dropdown-menu {
    @apply absolute z-50 mt-2 bg-white/95 dark:bg-slate-800/95 backdrop-blur-xl border border-slate-200 dark:border-slate-700 rounded-xl shadow-xl overflow-hidden py-1;
  }

  .dropdown-item {
    @apply w-full text-left px-4 py-2 text-sm flex items-center justify-between hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors;
  }

  /* Pagination & Controls */
  .pagination-btn {
    @apply px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors;
  }

  .icon-btn-subtle {
    @apply p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors text-slate-600 dark:text-slate-400 disabled:opacity-50;
  }

  /* Pills & Metadata Labels */
  .badge-pill {
    @apply flex items-center gap-1 bg-white/50 dark:bg-slate-900/40 px-2.5 py-1 rounded-full backdrop-blur-sm border border-slate-200/50 dark:border-slate-700/50 text-[10px] font-bold text-slate-500 dark:text-slate-400;
  }

  /* Feedback & Confirmation Modals */
  .modal-feedback-card {
    @apply relative bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-6 border border-slate-200 dark:border-slate-700 transition-all;
  }

  /* Interactive Tooltips/Popovers */
  .hover-popover {
    @apply pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity duration-200 absolute z-50 bg-slate-900 dark:bg-slate-100 text-white dark:text-slate-900 text-[10px] p-3 rounded-lg shadow-xl;
  }

  /* Utility Containers */
  .icon-box-sm {
    @apply w-8 h-8 rounded-lg bg-slate-100 dark:bg-slate-700 flex items-center justify-center text-slate-600 dark:text-slate-400 transition-colors;
  }

  /* Layout & Structure */
  .page-header {
    @apply flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6;
  }

  .stat-grid {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8;
  }

  .content-panel {
    @apply bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 overflow-hidden;
  }

  /* Typography */
  .heading-xl {
    @apply text-2xl font-black text-slate-900 dark:text-white tracking-tight leading-none;
  }

  .heading-lg {
    @apply text-lg font-semibold text-slate-900 dark:text-white mb-2;
  }

  .subtext-caps {
    @apply text-[9px] font-black uppercase tracking-[0.2em] opacity-80 mt-1;
  }

  .label-caps {
    @apply block text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider;
  }

  /* Navigation & Inputs */
  .box-input {
    @apply w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm transition-all;
  }

  .search-input-pill {
    @apply block w-full pl-10 pr-3 py-2 border border-slate-200 dark:border-slate-700 rounded-xl bg-slate-50 dark:bg-slate-800/50 text-sm placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all dark:text-slate-200;
  }

  .nav-item {
    @apply flex items-center px-3 py-2.5 text-sm font-medium rounded-lg transition-colors;
  }

  /* Specialized Components */
  .icon-box-lg {
    @apply mx-auto w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center mb-3 transition-colors;
  }

  .badge-live-label {
    @apply flex items-center gap-1.5 px-3 py-1 bg-emerald-50 dark:bg-emerald-900/20 rounded-full border border-emerald-100 dark:border-emerald-800/50 text-[9px] font-bold text-emerald-600 dark:text-emerald-400 uppercase tracking-wider;
  }

  .toast-panel {
    @apply pointer-events-auto w-full max-w-sm overflow-hidden rounded-lg bg-white dark:bg-slate-800 shadow-lg ring-1 ring-black ring-opacity-5;
  }

  .terminal-panel {
    @apply bg-gray-900 rounded-lg shadow-2xl w-full max-w-4xl border border-gray-700 overflow-hidden flex flex-col h-[80vh];
  }

  .hover-row {
    @apply hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors;
  }

  /* Insight Cards (Dashboard) */
  .insight-card {
    @apply rounded-2xl p-4 text-white flex items-center gap-4 relative overflow-hidden;
  }

  /* Settings Specific */
  .settings-section {
    @apply space-y-6;
  }

  .settings-group {
    @apply space-y-4 border-t border-slate-100 dark:border-slate-700 pt-4 first:border-0 first:pt-0;
  }

  /* Terminal / Modal Updates */
  .terminal-header {
    @apply px-4 py-3 bg-gray-800 border-b border-gray-700 flex justify-between items-center shrink-0;
  }

  .terminal-input {
    @apply w-full bg-gray-800 border border-gray-700 text-white rounded p-2 focus:ring-2 focus:ring-blue-500 outline-none transition-all;
  }

  /* Notifications */
  .notif-item {
    @apply w-full px-4 py-3 flex gap-3 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-left border-b border-slate-50 dark:border-slate-700/50 last:border-0 relative;
  }

  .notif-indicator {
    @apply absolute left-1 top-1/2 -translate-y-1/2 w-1 h-8 bg-blue-500 rounded-r-full;
  }
}

/* Smooth transitions */
* {
  transition-property: background-color, border-color, color, fill, stroke;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}

/* Focus styles */
*:focus-visible {
  @apply outline-none ring-2 ring-blue-500 ring-offset-2;
}